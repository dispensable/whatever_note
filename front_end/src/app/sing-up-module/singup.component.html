<div class="container">
    <h1>User Sing Up</h1> <button type="button" (click)="noteme()">Notify</button>
    <form *ngIf="submitted" (ngSubmit)="addUser(user)" #singupForm="ngForm">
      <div class="form-group">
        <label for="username">Name</label>
        <input type="text" class="form-control" id="username" name="username" [(ngModel)]="user.username" #username="ngModel"
               (keyup)="verification_username()" (blur)="verification_name_unique()" required>
        <div [ngClass]="{'alert alert-danger': !username_valid, 'alert alert-success': username_valid}">
          {{registerError.username_error}}
        </div>
      </div>
      <div class="form-group" #useremail>
        <label for="email">Email</label>
        <input type="email" class="form-control" id="email" required name="email" [(ngModel)]="user.email" #email="ngModel"
                (keyup)="verification_email()" (blur)="verification_email_unique()">
        <div [ngClass]="{'alert alert-danger': !email_valid, 'alert alert-success': email_valid}">
          {{registerError.email_error}}
        </div>
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" class="form-control" id="password" required name="password" [(ngModel)]="user.password" #password="ngModel"
                (keyup)="verification_password()">
        <div [ngClass]="{'alert alert-danger': !password_valid, 'alert alert-success': password_valid}">
          {{registerError.password_error}}
        </div>
      </div>
      <div class="form-group">
        <label for="password2">Repeat Password</label>
        <input type="password" class="form-control" id="password2" required name="password2" [(ngModel)]="user.password2" #password2="ngModel"
                (keyup)="verification_password2()">
        <div [ngClass]="{'alert alert-danger': !password2_valid, 'alert alert-success': password2_valid}">
          {{registerError.repeat_error}}
        </div>
      </div>
      <button type="submit" class="btn btn-default" [disabled]="!singupForm.form.valid || !username_valid
      || !email_valid || !password_valid || !password2_valid">Submit</button>
    </form>

  <div *ngIf="successed">
    <h3>Nearly to success...</h3>
    <p>Before you can access this site you need to confirm your account. Check your inbox, you should have recieved an email with
    a confirmation link.</p>
    <p>Need another confirmation email?
      <button type="button" class="btn btn-info" [disabled]="hasresend" (click)="resend()">Resend</button>
    </p>
    <p>Or has confirmed your email? Go to:
    <button type="button" class="btn btn-info" (click)="singin()">Sing In</button>
    </p>
  </div>

</div>

